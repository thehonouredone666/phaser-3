<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Phaser â€“ Start â†’ Main (Pac-Man Template)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.0/dist/phaser.js"></script>
</head>
<body>
<script>
/* ==========================================================
   BASIC TWO-SCENE STRUCTURE
   Scene1: StartScreen  â†’ shows title + Start button
   Scene2: MainScene    â†’ placeholder for Pac-Man gameplay
   ========================================================== */

const config = {
  type: Phaser.AUTO,
  width: 900,
  height: 560,
  backgroundColor: '#000000',
  scene: [StartScreen, MainScene]
};
new Phaser.Game(config);

/* ---------- Scene 1: Start Screen ---------- */
function StartScreen() {
  Phaser.Scene.call(this, { key: 'StartScreen' });
}
StartScreen.prototype = Object.create(Phaser.Scene.prototype);
StartScreen.prototype.constructor = StartScreen;

StartScreen.prototype.create = function() {
  const W = this.scale.width, H = this.scale.height;
  this.cameras.main.setBackgroundColor('#0b0b28');

  // Title
  this.add.text(W/2, H/2 - 120, 'ðŸŸ¡ PAC-MAN START', {
    fontFamily:'Arial Black', fontSize:'38px', color:'#ffe400'
  }).setOrigin(0.5);

  // Subtitle
  this.add.text(W/2, H/2 - 60, 'Use the button below to begin', {
    fontFamily:'Arial', fontSize:'20px', color:'#ffffff'
  }).setOrigin(0.5);

  // Start button
  const btnW=200, btnH=60;
  const g=this.add.graphics({x:W/2-btnW/2, y:H/2});
  drawButton(g,btnW,btnH,false);
  const label=this.add.text(W/2,H/2+btnH/2,'â–¶ Start Game',{
    fontFamily:'Arial Black',fontSize:'26px',color:'#fff'
  }).setOrigin(0.5);

  const hit=this.add.zone(W/2,H/2+btnH/2,btnW,btnH)
    .setInteractive({useHandCursor:true})
    .on('pointerover',()=>drawButton(g,btnW,btnH,true))
    .on('pointerout',()=>drawButton(g,btnW,btnH,false))
    .on('pointerdown',()=>{
      this.scene.start('MainScene');  // switch scenes
    });

  // Simple pulse tween for style
  this.tweens.add({
    targets:[g,label],
    scaleX:1.05, scaleY:1.05,
    yoyo:true, repeat:-1, duration:900, ease:'Sine.easeInOut'
  });
};

function drawButton(g,w,h,hover){
  g.clear();
  g.fillStyle(hover?0x00cc66:0x009a70,1);
  g.fillRoundedRect(0,0,w,h,12);
  g.lineStyle(3,0xffe400,1);
  g.strokeRoundedRect(0,0,w,h,12);
}

/* ---------- Scene 2: Main (Pac-Man placeholder) ---------- */
function MainScene() {
  Phaser.Scene.call(this, { key: 'MainScene' });
}
MainScene.prototype = Object.create(Phaser.Scene.prototype);
MainScene.prototype.constructor = MainScene;

MainScene.prototype.create = function() {
  const W=this.scale.width, H=this.scale.height;
  this.cameras.main.setBackgroundColor('#000000');

  // Placeholder â€œgameâ€ content
  this.add.text(W/2,H/2,'ðŸ‘¾ PAC-MAN LEVEL 1\n(placeholder)',{
    fontFamily:'Arial Black',fontSize:'28px',color:'#ffe400',align:'center'
  }).setOrigin(0.5);

  // Back to menu shortcut (press M)
  this.input.keyboard.on('keydown-M', ()=>this.scene.start('StartScreen'));
};
</script>
</body>
</html>
