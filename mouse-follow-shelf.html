<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phaser ‚Äì Mouse Follow + Click to Add Item</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.0/dist/phaser.js"></script>
</head>
<body>
<script>
const config = {
  type: Phaser.AUTO,
  width: 800,
  height: 600,
  backgroundColor: '#f6fff5',
  physics: { default: 'arcade', arcade: { debug: false } },
  scene: { preload, create, update }
};

new Phaser.Game(config);

let follower, shelf, itemText;

function preload() {
  this.load.image('cursor', 'https://labs.phaser.io/assets/sprites/pangball.png');
  this.load.image('shelf', 'https://labs.phaser.io/assets/sprites/platform.png');
}

function create() {
  // --- Create a "shelf" ---
  shelf = this.add.sprite(400, 500, 'shelf').setScale(1.5, 0.5);
  shelf.setInteractive({ useHandCursor: true });

  // --- Create the follower sprite ---
  follower = this.physics.add.sprite(100, 100, 'cursor');
  follower.setCollideWorldBounds(true);

  // --- Add simple text label for feedback ---
  itemText = this.add.text(16, 16, 'Click the shelf to add an item', {
    fontFamily: 'Arial, Helvetica, sans-serif',
    fontSize: '20px',
    color: '#003a2b'
  });

  // --- Mouse move event ---
  this.input.on('pointermove', (pointer) => {
    // Move smoothly toward pointer
    this.physics.moveToObject(follower, pointer, 300);

    // Stop when very close
    if (Phaser.Math.Distance.Between(follower.x, follower.y, pointer.x, pointer.y) < 4) {
      follower.body.setVelocity(0);
    }
  });

  // --- Click on shelf ---
  shelf.on('pointerdown', () => {
    const newItem = prompt('üß∫ Enter item name to add to shelf:');
    if (newItem && newItem.trim() !== '') {
      itemText.setText('‚úÖ Added: ' + newItem.trim());
    } else {
      itemText.setText('‚ö†Ô∏è No item added.');
    }
  });
}

function update() {
  // Optional logic if you want the follower to slow down etc.
}
</script>
</body>
</html>
